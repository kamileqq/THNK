<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting-started/simple-platformer">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Using THNK for a platformer | THNK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://thnk.arthuro555.com/img/THNK-thumbnail.png"><meta data-rh="true" name="twitter:image" content="https://thnk.arthuro555.com/img/THNK-thumbnail.png"><meta data-rh="true" property="og:url" content="https://thnk.arthuro555.com/docs/getting-started/simple-platformer/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using THNK for a platformer | THNK"><meta data-rh="true" name="description" content="In this third part of the getting started tutorial, we look at how to actually make your game the THNK way."><meta data-rh="true" property="og:description" content="In this third part of the getting started tutorial, we look at how to actually make your game the THNK way."><meta data-rh="true" name="keywords" content="get started,platformer,learn,animation,messages,events,client,player,control,THNK,p2p,multiplayer,GDevelop"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://thnk.arthuro555.com/docs/getting-started/simple-platformer/"><link data-rh="true" rel="alternate" href="https://thnk.arthuro555.com/docs/getting-started/simple-platformer/" hreflang="en"><link data-rh="true" rel="alternate" href="https://thnk.arthuro555.com/docs/getting-started/simple-platformer/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="THNK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="THNK Atom Feed"><link rel="stylesheet" href="/assets/css/styles.9e57eefd.css">
<link rel="preload" href="/assets/js/runtime~main.acf4a28c.js" as="script">
<link rel="preload" href="/assets/js/main.f101bb24.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#ffec99;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">THNK & this site are still in early stages! There may still be bugs or typos, we welcome you to report them if you find some!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/thnk.png" alt="THNK Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/thnk.png" alt="THNK Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">THNK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/why-thnk/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/getting-started/simple-platformer/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://github.com/arthuro555/THNK" target="_blank" rel="noopener noreferrer" class="dropdown__link">üë®‚Äçüíª GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/users/arthuro555/projects/2/views/1" target="_blank" rel="noopener noreferrer" class="dropdown__link">üìÖ Roadmap<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://ko-fi.com/arthuro555" target="_blank" rel="noopener noreferrer" class="dropdown__link">‚òï Gift a coffee<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://twitter.com/arthuro555" target="_blank" rel="noopener noreferrer" class="dropdown__link">üê¶ Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/why-thnk/">What is THNK?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/getting-started/">Getting started - Platformer tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started - Platformer tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/installation/">Installing THNK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/creating-a-scene/">Creating a THNK scene</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/getting-started/simple-platformer/">Using THNK for a platformer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/setup-networking/">Connect clients with P2P</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/concepts/">THNK concepts in-depth</a><button aria-label="Toggle the collapsible sidebar category &#x27;THNK concepts in-depth&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/migrating/">Migrating to THNK</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/getting-started/"><span itemprop="name">Getting started - Platformer tutorial</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using THNK for a platformer</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Using THNK for a platformer</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-basic-platformer">Create a basic platformer<a class="hash-link" href="#create-a-basic-platformer" title="Direct link to heading">‚Äã</a></h2><p>Let&#x27;s make a platformer! First, we&#x27;ll add a platformer character (with the default controls on) and a few platforms using GDevelop&#x27;s default behaviors.</p><p><img loading="lazy" alt="A GDevelop scene with objects that have the platformer character and platform behaviors attached" src="/assets/images/behaviors-c78647cda5e27084569e0b984e47df90.gif" title="well you probably already know how that works lol" width="1920" height="977" class="img_ev3q"></p><p>If you start a preview, you should be able to jump around on your platforms. Nothing too exciting yet, but now let&#x27;s get right into what changes with THNK...</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-animations-to-the-player">Adding animations to the player<a class="hash-link" href="#adding-animations-to-the-player" title="Direct link to heading">‚Äã</a></h2><p>Let&#x27;s add animations to the player! This is a fairly basic task in GDevelop. But remember, in THNK, events must be in one of two categories: Server or Client. Before adding animations, we need to decide in which section it belongs.</p><p>When you add events to your game, you must always ask yourself a few questions:</p><ul><li>Does it require information that the client should not know?</li><li>Is it something that affects other players?</li></ul><p>Here, player animations:</p><ul><li>Uses the position of players visible on-screen (to determine if they are moving or not), information that the client has anyway</li><li>Only affects how the local game looks like, not the games of other players</li></ul><p>Therefore, it should be in the client section!</p><video src="/webm/platformer-animations.webm" type="video/webm" width="100%" autoplay="" muted="" loop=""></video><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Why can&#x27;t I just put it in server events?</div><div class="admonitionContent_S0QG"><p>Technically, you do not <em>need</em> to have animations as client events, but it is in practice often a better idea. If it was on the server, it would be something to be synchronized with the clients. This is problematic for two reasons:</p><ol><li><p>This is bad for bandwidth - each time an animation would change, the change would have to be sent to the clients. With a lot of objects and clients, this can quickly overload the network over transmitting something that the client in a way already knows, as it can infer it from the movement of other objects already. You should always try to reduce the communication between client and server to the minimum to avoid issues on lower speed connections.</p></li><li><p>This might make animations not match what is displayed. Since the server would handle the animations, the animations would only be updated on server ticks, which may be set at a lower rate than the rendering frame rate. For a few frames, the animation might not match what you would expect until the server sends an update.</p></li></ol></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adapting-the-platformer-for-multiplayer">Adapting the platformer for multiplayer<a class="hash-link" href="#adapting-the-platformer-for-multiplayer" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="giving-each-client-a-player-object">Giving each client a player object<a class="hash-link" href="#giving-each-client-a-player-object" title="Direct link to heading">‚Äã</a></h3><p>Ok, now we have a platformer with animations. Let&#x27;s make it multiplayer-ready! First, we&#x27;ll need to ensure each player has their own player character. To do so, it&#x27;s simple: create an object when a client connects, and delete it when it disconnects. Connections and disconnections are core THNK conditions. You&#x27;ll also want to <em>link the object to the player</em>: That will allow knowing what instance belongs to which player. You&#x27;ll need it to know which instance of the platformer character to delete when a player leaves.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>If you have an initial instance of the player on the scene, you should remove it! If the server is also a client (i.a. it is also a player), then the connection event will trigger once at the beginning of the scene too for creating the player object of the host.</p></div></div><p>Since this is creating objects everyone should be able to see, it should be on the server - it affects other players and affects the game state, not just the visual representation of the game.</p><p><img loading="lazy" alt="Adding the events described above to the events sheet" src="/assets/images/connections-334250f36d22011128bf2ed4688891c1.gif" title="ooo that&#x27;s pretty easy" width="1920" height="977" class="img_ev3q"></p><p>Since we want the clients to be able to see the player objects, we need that object to be synchronized across the server and clients. To do so, it&#x27;s very simple - simply add the synchronize behavior (from THNK) to your player object!</p><p><img loading="lazy" alt="Adding the synchronize behavior" src="/assets/images/add-sync-behavior-9d59381783547cdcfc20a193e6449db6.gif" title="well that was surprisingly fast" width="1920" height="977" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-player-controls-for-the-clients">Adding player controls for the clients<a class="hash-link" href="#adding-player-controls-for-the-clients" title="Direct link to heading">‚Äã</a></h3><p>While the game might work with the default controls when testing in single-player, it needs a few adjustments to work online. The reason it works in single-player is that there, the game is the server, and the server can do whatever it wants. But when connecting clients, the platformer behaviors on the client will not be able to move the objects, since <em>only the server is allowed to move objects,</em> <strong>or change the game state generally</strong>. Therefore, instead of letting the platformer behavior handle everything, we need to get the inputs and <em>send them to the server</em>. The server will then simulate key presses on behalf of the client on the platformer character of the player object that belongs to that player.</p><p>Therefore, in THNK, all interactions with the game, from player movement to using an item in the inventory, needs to be done as a command from the client to the server. It is then the server&#x27;s job to validate and process the command, updating the game state accordingly for everyone to see.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-naive-way">The naive way<a class="hash-link" href="#the-naive-way" title="Direct link to heading">‚Äã</a></h4><p>Sending a command from the client and receiving it on the server can be done with the corresponding action and conditions:</p><p><img loading="lazy" alt="Adding a message sending and receiving event to the events sheet" src="/assets/images/messages-8a8e0f85536ec7535cfa0ebea0753fe8.gif" title="Remember to add messages both server- and client-side üòâ" width="1920" height="977" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>You might have noticed that the &quot;Pick object linked to player&quot; doesn&#x27;t ask you which player&#x27;s objects it should pick. That is because THNK has <em>player picking</em>. When using a THNK condition (on player connected, on player disconnected, on player message, etc.), the player that initiated this condition will be picked, and other THNK actions like &quot;Pick objects linked to a player&quot; will use this picked player.</p><p>If you wish to target a player manually, you can get the currently picked player&#x27;s ID, and change the picked the player to that player ID later, for THNK actions to target this player.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-smart-way">The smart way<a class="hash-link" href="#the-smart-way" title="Direct link to heading">‚Äã</a></h4><p>We have those events so far:</p><p><img loading="lazy" alt="The events we have so far" src="/assets/images/messages-9ffb101b204c65443d4ebbe37aae66dc.png" title="Our events so far üòé" width="1237" height="796" class="img_ev3q"></p><p>They may technically work, but... they have a few issues.</p><p>Receiving events in a normal event is more readable, but it only allows to process one message per server tick, which can cause issues when more player join. To handle all messages received in a single server tick, use a while event instead:</p><p><img loading="lazy" alt="Transferring the conditions and action from a standard event into a while event" src="/assets/images/while-8a00e456a47718edd196794867013446.gif" title="While event underrated smh" width="1320" height="434" class="img_ev3q"></p><p>The second issue is that we shouldn&#x27;t be using messages like this. When sending messages, you should always keep a few things in mind:</p><ol><li>The connection may be instable, causing messages to be sometimes delayed</li><li>The traffic between server and client should be as minimal as possible, as to not use more bandwidth than available</li></ol><p>Those events are sending every frame where a key is pressed a ton of inputs to the serve, taking a lot of bandwidth! Additionally, what if the connection is instable? If the server receives only every second or third tick a message, then as far as the server know, it is as if the player keeps on pressing and unpressing the button, where in fact they are still holding it...</p><p>To fix that, let&#x27;s take another approach: We&#x27;ll only send one message when pressing and releasing the button. That way, we send way less messages, and if the connection is instable, the server will continue using the same inputs as the last one it received from the client.</p><div><div style="display:flex;flex-wrap:wrap;gap:1vh;justify-content:center"><img loading="lazy" src="/assets/images/smart-input-1-4e6eaa7a4172554a3d218c768dbfbc2d.png" width="50%" style="align-self:center;min-width:300px" class="img_ev3q"><img loading="lazy" src="/assets/images/smart-input-2-fdb909b2033be3cade3c166db18103ca.png" width="50%" style="align-self:center;min-width:300px" class="img_ev3q"><img loading="lazy" src="/assets/images/smart-input-3-835f0b503d7b0c094bda60792e9aec73.png" width="50%" style="align-self:center;min-width:300px" class="img_ev3q"><img loading="lazy" src="/assets/images/smart-input-4-4d96591a6ae16e62441b9fd99b74b5b7.png" width="50%" style="align-self:center;min-width:300px" class="img_ev3q"></div></div><p>This solution is more complex, but will provide a much better experience.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Of course, only do this where it makes sense: here, we are using it for movement inputs, which are continuous types of inputs. But a button that is not expected for continued use, for example one to use a consumable item, should be processed once and not continuously in the case that the server has not heard from the client what their action for the current tick will be.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-multiplayer-connection">Adding multiplayer connection<a class="hash-link" href="#adding-multiplayer-connection" title="Direct link to heading">‚Äã</a></h2><p>The game should now be ready for being played in multiplayer! <a href="/docs/getting-started/setup-networking/">Head over to the next page</a> to find out how to get your players connected together in your scene.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/arthuro555/THNK/tree/master/docs/docs/getting-started/simple-platformer.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/getting-started/creating-a-scene/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating a THNK scene</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/getting-started/setup-networking/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connect clients with P2P</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-basic-platformer" class="table-of-contents__link toc-highlight">Create a basic platformer</a></li><li><a href="#adding-animations-to-the-player" class="table-of-contents__link toc-highlight">Adding animations to the player</a></li><li><a href="#adapting-the-platformer-for-multiplayer" class="table-of-contents__link toc-highlight">Adapting the platformer for multiplayer</a><ul><li><a href="#giving-each-client-a-player-object" class="table-of-contents__link toc-highlight">Giving each client a player object</a></li><li><a href="#adding-player-controls-for-the-clients" class="table-of-contents__link toc-highlight">Adding player controls for the clients</a></li></ul></li><li><a href="#adding-multiplayer-connection" class="table-of-contents__link toc-highlight">Adding multiplayer connection</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/why-thnk/">Why THNK?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/migrating/">Migrating to THNK</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/arthuro555/THNK" target="_blank" rel="noopener noreferrer" class="footer__link-item">üë®‚Äçüíª GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/users/arthuro555/projects/2/views/1" target="_blank" rel="noopener noreferrer" class="footer__link-item">üìÖ Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ko-fi.com/arthuro555" target="_blank" rel="noopener noreferrer" class="footer__link-item">‚òï Gift a coffee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/arthuro555" target="_blank" rel="noopener noreferrer" class="footer__link-item">üê¶ Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">THNK. Copyright ¬© 2022 Arthur "arthuro555" Pacaud.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.acf4a28c.js"></script>
<script src="/assets/js/main.f101bb24.js"></script>
</body>
</html>