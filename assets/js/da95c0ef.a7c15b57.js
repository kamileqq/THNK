"use strict";(self.webpackChunkthnk_docs=self.webpackChunkthnk_docs||[]).push([[579],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var r=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=c(a),d=o,u=m["".concat(l,".").concat(d)]||m[d]||h[d]||n;return a?r.createElement(u,s(s({ref:t},p),{},{components:a})):r.createElement(u,s({ref:t},p))}));function d(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,s=new Array(n);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<n;c++)s[c]=a[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6807:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var r=a(7462),o=(a(7294),a(3905));const n={description:"The game state refers to your game's important objects and variables, that when all put together allow to see exactly the current state of the game and game world.",sidebar_position:3},s="Game state",i={unversionedId:"concepts/game-state",id:"concepts/game-state",title:"Game state",description:"The game state refers to your game's important objects and variables, that when all put together allow to see exactly the current state of the game and game world.",source:"@site/docs/concepts/game-state.md",sourceDirName:"concepts",slug:"/concepts/game-state",permalink:"/docs/concepts/game-state",draft:!1,editUrl:"https://github.com/arthuro555/THNK/tree/master/docs/docs/concepts/game-state.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{description:"The game state refers to your game's important objects and variables, that when all put together allow to see exactly the current state of the game and game world.",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Adapters",permalink:"/docs/concepts/adapters"},next:{title:"State variables",permalink:"/docs/concepts/state-variables"}},l={},c=[{value:"Forms of game state",id:"forms-of-game-state",level:2},{value:"Objects",id:"objects",level:3},{value:"State Variables",id:"state-variables",level:3}],p={toc:c};function h(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"game-state"},"Game state"),(0,o.kt)("p",null,"Every game has some kind of game state. The game state refers to your game's important objects and variables, that when all put together allow to see exactly the current state of the game and game world."),(0,o.kt)("p",null,"In THNK, it is the role of the server to ",(0,o.kt)("em",{parentName:"p"},"control the updates to the game state")," and ",(0,o.kt)("em",{parentName:"p"},"send updates to all clients"),". The client's role is to ",(0,o.kt)("em",{parentName:"p"},"display the game state")," and ",(0,o.kt)("em",{parentName:"p"},"send the player's requests to change the game state"),"."),(0,o.kt)("h2",{id:"forms-of-game-state"},"Forms of game state"),(0,o.kt)("p",null,"THNK takes care of synchronizing the game state from the server to the client. For that though, you need to mark elements of your scene as game state for THNK. Game state takes two forms in THNK: objects (for the game world) and variables (for the rest of the game state)."),(0,o.kt)("h3",{id:"objects"},"Objects"),(0,o.kt)("p",null,'Objects can be marked as game state in THNK by adding the "Synchronize" behvaior on them. This behavior will watch for changes on the object and automatically sync those on clients.'),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Only object properties are synchronized, not behavior properties!"),(0,o.kt)("p",{parentName:"admonition"},"Sometimes, that is alright: the behavior may simply modify the object's properties on the server, and those changes will be successfully synced."),(0,o.kt)("p",{parentName:"admonition"},"In other cases, this can cause issues. For example, a movement behavior may move the object incorrectly on clients in between updates from the server if it does not have a correct internal state. In this case, you will have to either disable the behavior on the client, or synchronize the behavior properties by yourself."),(0,o.kt)("p",{parentName:"admonition"},"You can synchronize the internal properties of a behavior yourself by replacing behavior properties with object state variables. If you have not written the behavior yourself, ask the author for advice on what should be synchronized and what should not be!")),(0,o.kt)("h3",{id:"state-variables"},"State Variables"),(0,o.kt)("p",null,"Objects represent the game world in itself, as everyone can observe it. But some elements are not for everyone to see, yet is important data for one or multiple clients."),(0,o.kt)("p",null,"Take for example whether or not you are an imposter in Among Us - your client will want to know that, as it is crucial the player knows this and is presented with appropriate options depending on this role. Although this is important game state, what changes is ",(0,o.kt)("em",{parentName:"p"},"the presentation")," and ",(0,o.kt)("em",{parentName:"p"},"options of the player"),", not the game world itself."),(0,o.kt)("p",null,"It is, in fact, ",(0,o.kt)("em",{parentName:"p"},"crucial")," not to make this part of the game world, as this game state is player specific and should never be shared with other players (this could allow for cheating). The game world (and therefore, the usage of synchronized objects) should be limited to objects that are ",(0,o.kt)("em",{parentName:"p"},"visible to everyone"),', as if "part of the world". Player-specific data belongs in variables.'),(0,o.kt)("p",null,"Another example would be an in-game chat: The text messages themselves may be game state, since they are shared with everyone and part of what is happening in your game, but are not part of the game world (in most cases) - the message is ",(0,o.kt)("em",{parentName:"p"},'not an "entity living in your game world"'),". One player might open the chat at a time, another player at another time: The presentation differs from one client to the other."),(0,o.kt)("p",null,"Therefore, it is ",(0,o.kt)("em",{parentName:"p"},"the client's responsibility to display messages, not the server's"),". To that effect, you will need to synchronize messages exclusively as data, by using a ",(0,o.kt)("strong",{parentName:"p"},"State Variable")," instead of a synchronized object, and display the data on the client with normal unsynchronized objects."))}h.isMDXComponent=!0}}]);